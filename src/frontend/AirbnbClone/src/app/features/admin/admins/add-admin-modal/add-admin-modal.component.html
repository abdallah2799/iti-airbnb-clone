<!-- Modal Backdrop -->
<div class="fixed inset-0 bg-black/20 backdrop-blur-sm z-50 flex items-center justify-center p-4" (click)="onClose()">
    <!-- Modal Content -->
    <div class="bg-white rounded-lg shadow-xl max-w-md w-full" (click)="$event.stopPropagation()">
        <!-- Modal Header -->
        <div class="flex justify-between items-center px-6 py-4 border-b border-gray-200">
            <h2 class="text-xl font-bold text-gray-800">Add New Admin</h2>
            <button (click)="onClose()" class="text-gray-400 hover:text-gray-600 transition-colors">
                <lucide-icon [img]="icons.X" class="w-6 h-6"></lucide-icon>
            </button>
        </div>

        <!-- Modal Body -->
        <form [formGroup]="adminForm" (ngSubmit)="onSubmit()" class="px-6 py-4">
            <!-- Email Field -->
            <div class="mb-4">
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                    Email <span class="text-red-500">*</span>
                </label>
                <input type="email" id="email" formControlName="email" placeholder="admin@example.com"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"
                    [class.border-red-500]="f['email'].invalid && f['email'].touched">
                <div *ngIf="f['email'].invalid && f['email'].touched" class="mt-1 text-sm text-red-500">
                    <p *ngIf="f['email'].errors?.['required']">Email is required</p>
                    <p *ngIf="f['email'].errors?.['email']">Invalid email format</p>
                </div>
            </div>

            <!-- Full Name Field -->
            <div class="mb-4">
                <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">
                    Full Name <span class="text-red-500">*</span>
                </label>
                <input type="text" id="fullName" formControlName="fullName" placeholder="John Doe"
                    class="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"
                    [class.border-red-500]="f['fullName'].invalid && f['fullName'].touched">
                <div *ngIf="f['fullName'].invalid && f['fullName'].touched" class="mt-1 text-sm text-red-500">
                    <p *ngIf="f['fullName'].errors?.['required']">Full name is required</p>
                    <p *ngIf="f['fullName'].errors?.['minlength']">Name must be at least 2 characters</p>
                    <p *ngIf="f['fullName'].errors?.['maxlength']">Name must not exceed 100 characters</p>
                </div>
            </div>

            <!-- Password Field -->
            <div class="mb-4">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
                    Password <span class="text-red-500">*</span>
                </label>
                <div class="relative">
                    <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
                        placeholder="Enter secure password"
                        class="w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-rose-500 focus:border-transparent"
                        [class.border-red-500]="f['password'].invalid && f['password'].touched">
                    <button type="button" (click)="togglePassword()"
                        class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700">
                        <lucide-icon [img]="showPassword ? icons.EyeOff : icons.Eye" class="w-5 h-5"></lucide-icon>
                    </button>
                </div>
                <div *ngIf="f['password'].invalid && f['password'].touched" class="mt-1 text-sm text-red-500">
                    <p *ngIf="f['password'].errors?.['required']">Password is required</p>
                    <p *ngIf="f['password'].errors?.['minlength']">Password must be at least 8 characters</p>
                    <p *ngIf="f['password'].errors?.['pattern']">Password must contain at least one uppercase letter,
                        one lowercase letter, and one number</p>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200">
                <button type="button" (click)="onClose()" [disabled]="isSubmitting"
                    class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50">
                    Cancel
                </button>
                <button type="submit" [disabled]="isSubmitting || adminForm.invalid"
                    class="px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    <span *ngIf="!isSubmitting">Create Admin</span>
                    <span *ngIf="isSubmitting">Creating...</span>
                </button>
            </div>
        </form>
    </div>
</div>