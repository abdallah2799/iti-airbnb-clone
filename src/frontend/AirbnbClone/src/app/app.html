<!-- 1. GLOBAL NAVBAR (Singleton) -->
<app-navbar *ngIf="showNavbar()"></app-navbar>

<!-- 2. MAIN CONTENT WRAPPER -->
<!-- 'pt-28': Adds padding-top to prevent content from hiding behind fixed navbar -->
<!-- 'min-h-screen': Pushes footer to bottom -->
<div [ngClass]="showNavbar() ? 'pt-0 pb-20 min-h-screen bg-white' : 'min-h-screen'">

    <!-- 3. WIDTH CONSTRAINT (Fixes 'Zoomed In' look) -->
    <!-- Limits max width on large screens and adds responsive side padding -->
    <!-- Admin pages get full width, other pages get constrained -->
    <main [ngClass]="showNavbar() ? 'mx-auto max-w-[2520px] px-4 sm:px-6 lg:px-8 xl:px-20' : 'w-full h-full'">
        <router-outlet></router-outlet>
    </main>

</div>

<!-- 4. GLOBAL COMPONENTS -->
<app-footer *ngIf="showFooter()"></app-footer>
<app-login-modal></app-login-modal>
<app-chat-widget *ngIf="showChatbot"></app-chat-widget>